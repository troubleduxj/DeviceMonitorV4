<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MockåŠŸèƒ½ - å®Œæ•´å®‰è£…å‘å¯¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
            text-align: center;
        }
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
        }
        .step {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #667eea;
        }
        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin-right: 15px;
        }
        .step-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }
        .step-content {
            color: #666;
            line-height: 1.8;
            font-size: 15px;
        }
        button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        .code-block {
            background: #1e1e1e;
            color: #fff;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #856404;
        }
        .success {
            background: #d4edda;
            border: 1px solid #28a745;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #155724;
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ­ MockåŠŸèƒ½å®‰è£…å‘å¯¼</h1>
        <p class="subtitle">ç®€å•3æ­¥ï¼Œå¿«é€Ÿå®Œæˆå®‰è£…</p>

        <!-- Step 1: æ•°æ®åº“å®‰è£… -->
        <div class="step">
            <div class="step-header">
                <div class="step-number">1</div>
                <div class="step-title">å®‰è£…æ•°æ®åº“è¡¨</div>
            </div>
            <div class="step-content">
                <p><strong>è¯´æ˜ï¼š</strong>éœ€è¦åœ¨æ•°æ®åº“ä¸­åˆ›å»ºMockç›¸å…³çš„è¡¨å’Œèœå•ã€‚</p>
                
                <div class="warning">
                    âš ï¸ <strong>é‡è¦ï¼š</strong>è¯·ç¡®ä¿PostgreSQLæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œä¸”æ•°æ®åº“ <code>device_monitor</code> å·²åˆ›å»ºã€‚
                </div>

                <p><strong>é€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹å¼æ‰§è¡Œï¼š</strong></p>

                <h4 style="margin-top: 20px;">æ–¹å¼1ï¼šä½¿ç”¨pgAdminï¼ˆæ¨èï¼‰</h4>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li>æ‰“å¼€ <strong>pgAdmin</strong></li>
                    <li>è¿æ¥åˆ° PostgreSQL æœåŠ¡å™¨</li>
                    <li>å³é”®ç‚¹å‡»æ•°æ®åº“ <code>device_monitor</code> â†’ é€‰æ‹© <strong>Query Tool</strong></li>
                    <li>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ‰“å¼€SQLæ–‡ä»¶å†…å®¹ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹åˆ°Query Tool</li>
                    <li>ç‚¹å‡» <strong>Execute (F5)</strong> æ‰§è¡Œ</li>
                    <li>é‡å¤ä»¥ä¸Šæ­¥éª¤æ‰§è¡Œç¬¬äºŒä¸ªSQLæ–‡ä»¶</li>
                </ol>

                <div class="button-group">
                    <button onclick="openSQLFile('add_mock_data_table')">ğŸ“„ æ‰“å¼€SQLæ–‡ä»¶1 (åˆ›å»ºè¡¨)</button>
                    <button onclick="openSQLFile('add_mock_management_menu')">ğŸ“„ æ‰“å¼€SQLæ–‡ä»¶2 (æ·»åŠ èœå•)</button>
                </div>

                <h4 style="margin-top: 20px;">æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤è¡Œ</h4>
                <p>å¦‚æœæ‚¨ç†Ÿæ‚‰å‘½ä»¤è¡Œï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œï¼š</p>
                <div class="code-block">psql -U postgres -d device_monitor -f "D:\Cursor\Project\DeviceMonitorV2_20251013_V1\DeviceMonitorV2\database\migrations\add_mock_data_table.sql"

psql -U postgres -d device_monitor -f "D:\Cursor\Project\DeviceMonitorV2_20251013_V1\DeviceMonitorV2\database\migrations\add_mock_management_menu.sql"</div>
                <p style="font-size: 13px; color: #999;">æç¤ºï¼šæ‰§è¡Œæ—¶éœ€è¦è¾“å…¥PostgreSQLå¯†ç </p>

                <div id="step1-status" class="success" style="display:none;">
                    âœ… æ•°æ®åº“è¡¨å®‰è£…å®Œæˆï¼è¯·ç»§ç»­ä¸‹ä¸€æ­¥ã€‚
                </div>
                <button onclick="markStepComplete(1)" style="margin-top: 15px;">âœ… æˆ‘å·²å®Œæˆæ­¤æ­¥éª¤</button>
            </div>
        </div>

        <!-- Step 2: å¯åŠ¨åç«¯ -->
        <div class="step">
            <div class="step-header">
                <div class="step-number">2</div>
                <div class="step-title">å¯åŠ¨åç«¯æœåŠ¡</div>
            </div>
            <div class="step-content">
                <p><strong>è¯´æ˜ï¼š</strong>å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼Œè®©æ–°çš„APIæ¥å£ç”Ÿæ•ˆã€‚</p>

                <div class="warning">
                    âš ï¸ <strong>æ³¨æ„ï¼š</strong>å¯åŠ¨åè¯·ä¿æŒçª—å£å¼€ç€ï¼Œä¸è¦å…³é—­ã€‚
                </div>

                <p><strong>æ“ä½œæ­¥éª¤ï¼š</strong></p>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li>æ‰“å¼€æ–‡ä»¶å¤¹ï¼š<code>D:\Cursor\Project\DeviceMonitorV2_20251013_V1\DeviceMonitorV2\scripts</code></li>
                    <li>åŒå‡»è¿è¡Œæ–‡ä»¶ï¼š<code>start_backend.bat</code></li>
                    <li>ç­‰å¾…çœ‹åˆ°ï¼š<code>INFO: Uvicorn running on http://0.0.0.0:8001</code></li>
                    <li>çœ‹åˆ°ä¸Šè¿°ä¿¡æ¯åï¼Œçª—å£ä¿æŒå¼€ç€</li>
                </ol>

                <div id="step2-status" class="success" style="display:none;">
                    âœ… åç«¯æœåŠ¡å·²å¯åŠ¨ï¼è¯·ç»§ç»­ä¸‹ä¸€æ­¥ã€‚
                </div>
                <button onclick="markStepComplete(2)" style="margin-top: 15px;">âœ… æˆ‘å·²å®Œæˆæ­¤æ­¥éª¤</button>
            </div>
        </div>

        <!-- Step 3: åˆå§‹åŒ–æƒé™ -->
        <div class="step">
            <div class="step-header">
                <div class="step-number">3</div>
                <div class="step-title">åˆå§‹åŒ–æŒ‰é’®æƒé™</div>
            </div>
            <div class="step-content">
                <p><strong>è¯´æ˜ï¼š</strong>é…ç½®Mockç®¡ç†çš„æŒ‰é’®æƒé™ã€‚</p>

                <div class="warning">
                    âš ï¸ <strong>å‰æï¼š</strong>å¿…é¡»å…ˆç™»å½•ç³»ç»Ÿï¼
                </div>

                <p><strong>æ“ä½œæ­¥éª¤ï¼š</strong></p>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š<a href="http://localhost:3000" target="_blank" style="color: #667eea; font-weight: bold;">http://localhost:3000</a></li>
                    <li><strong>ç™»å½•ç³»ç»Ÿ</strong>ï¼ˆä½¿ç”¨ç®¡ç†å‘˜è´¦å·ï¼‰</li>
                    <li>æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œè®¿é—®ï¼š<a href="http://localhost:3000/scripts/init_mock_permissions.html" target="_blank" style="color: #667eea; font-weight: bold;">æƒé™åˆå§‹åŒ–é¡µé¢</a></li>
                    <li>ç‚¹å‡»é¡µé¢ä¸Šçš„"å¼€å§‹åˆå§‹åŒ–æƒé™"æŒ‰é’®</li>
                    <li>ç­‰å¾…åˆå§‹åŒ–å®Œæˆ</li>
                </ol>

                <div class="button-group">
                    <button onclick="window.open('http://localhost:3000', '_blank')">ğŸŒ æ‰“å¼€ç³»ç»Ÿç™»å½•</button>
                    <button onclick="window.open('./init_mock_permissions.html', '_blank')">ğŸ” æ‰“å¼€æƒé™åˆå§‹åŒ–é¡µé¢</button>
                </div>

                <div id="step3-status" class="success" style="display:none;">
                    âœ… æƒé™åˆå§‹åŒ–å®Œæˆï¼
                </div>
                <button onclick="markStepComplete(3)" style="margin-top: 15px;">âœ… æˆ‘å·²å®Œæˆæ­¤æ­¥éª¤</button>
            </div>
        </div>

        <!-- Final Step -->
        <div class="step" style="border-left-color: #28a745;">
            <div class="step-header">
                <div class="step-number" style="background: #28a745;">âœ“</div>
                <div class="step-title">å®Œæˆå®‰è£…</div>
            </div>
            <div class="step-content">
                <p><strong>æ­å–œï¼æ‰€æœ‰æ­¥éª¤å®Œæˆåï¼š</strong></p>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li>è¿”å›ç³»ç»Ÿé¡µé¢</li>
                    <li>æŒ‰ <strong>F5</strong> åˆ·æ–°é¡µé¢</li>
                    <li>åœ¨å·¦ä¾§èœå•æ‰¾åˆ° <strong>"Mockæ•°æ®ç®¡ç†"</strong></li>
                    <li>å¼€å§‹ä½¿ç”¨MockåŠŸèƒ½ï¼</li>
                </ol>

                <div id="all-complete" class="success" style="display:none; margin-top: 20px;">
                    <h3 style="color: #155724; margin-bottom: 10px;">ğŸ‰ å®‰è£…å®Œæˆï¼</h3>
                    <p>æ‚¨å·²å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼Œç°åœ¨å¯ä»¥å¼€å§‹ä½¿ç”¨Mockæ•°æ®ç®¡ç†åŠŸèƒ½äº†ï¼</p>
                    <button onclick="window.open('http://localhost:3000', '_blank')" style="margin-top: 10px; background: #28a745;">
                        ğŸš€ æ‰“å¼€ç³»ç»Ÿ
                    </button>
                </div>
            </div>
        </div>

    </div>

    <script>
        let completedSteps = {1: false, 2: false, 3: false};

        function openSQLFile(filename) {
            const path = `D:/Cursor/Project/DeviceMonitorV2_20251013_V1/DeviceMonitorV2/database/migrations/${filename}.sql`;
            window.open(`file:///${path}`);
            alert(`SQLæ–‡ä»¶è·¯å¾„:\n${path}\n\nå¦‚æœæ— æ³•ç›´æ¥æ‰“å¼€ï¼Œè¯·æ‰‹åŠ¨åˆ°è¯¥è·¯å¾„å¤åˆ¶æ–‡ä»¶å†…å®¹ã€‚`);
        }

        function markStepComplete(step) {
            completedSteps[step] = true;
            document.getElementById(`step${step}-status`).style.display = 'block';
            
            if (completedSteps[1] && completedSteps[2] && completedSteps[3]) {
                document.getElementById('all-complete').style.display = 'block';
            }
        }
    </script>
</body>
</html>


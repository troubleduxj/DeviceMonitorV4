## 一、前端设计原则

本项目前端界面设计遵循以下原则，旨在提供高效、直观、友好的用户体验：

1.  **直观易用**：界面布局清晰，操作流程符合用户习惯，减少学习成本。
2.  **响应式设计**：适配不同尺寸的设备（桌面、平板、移动端），确保在各种屏幕上都能良好显示和操作。
3.  **数据可视化**：充分利用图表和图形，直观展示设备数据和分析结果。
4.  **模块化与可扩展性**：采用组件化开发，便于功能复用和未来扩展。
5.  **性能优化**：优化加载速度和渲染性能，提供流畅的用户体验。
6.  **一致性**：遵循 Ant Design Vue 的设计规范，保持界面风格和交互行为的一致性。

## 二、技术栈

-   **前端框架**：Vue 3
-   **开发语言**：TypeScript
-   **UI 组件库**：Ant Design Vue
-   **状态管理**：Pinia
-   **路由管理**：Vue Router
-   **HTTP 请求**：Axios
-   **图表库**：ECharts

## 三、主要页面原型与交互说明

### 1. 登录/注册页

-   **页面结构**：
    -   **布局**：居中布局，背景可为项目主题色或图片。
    -   **核心区域**：一个卡片式容器，包含登录表单和注册/忘记密码链接。
-   **组件构成**：
    -   `a-form`：表单容器，用于收集用户输入。
        -   `name`: `login-form`
        -   `layout`: `vertical`
        -   `model`: `formData` (响应式数据对象)
        -   `onFinish`: `handleLogin` (登录提交事件)
    -   `a-form-item`：表单项，用于用户名/邮箱和密码输入。
        -   **用户名/邮箱**：
            -   `name`: `username` 或 `email`
            -   `rules`: `[{ required: true, message: '请输入用户名/邮箱!' }]`
            -   `a-input`：输入框组件。
                -   `v-model:value`: `formData.username` 或 `formData.email`
                -   `placeholder`: `用户名/邮箱`
                -   `prefix`: `user-outlined` (Ant Design Icon)
        -   **密码**：
            -   `name`: `password`
            -   `rules`: `[{ required: true, message: '请输入密码!' }]`
            -   `a-input-password`：密码输入框组件。
                -   `v-model:value`: `formData.password`
                -   `placeholder`: `密码`
                -   `prefix`: `lock-outlined` (Ant Design Icon)
    -   `a-button`：登录按钮。
        -   `type`: `primary`
        -   `html-type`: `submit`
        -   `block`: `true` (宽度占满)
        -   `loading`: `loadingState` (登录中状态)
    -   `a-space`：用于排列注册和忘记密码链接。
        -   `a-typography-link`：注册链接。
            -   `@click`: `goToRegister` (跳转注册页)
        -   `a-typography-link`：忘记密码链接。
            -   `@click`: `goToForgotPassword` (跳转忘记密码页)
-   **数据绑定**：
    -   `formData`: `{ username: '', password: '' }` 或 `{ email: '', password: '' }`
    -   `loadingState`: `false` (布尔值，控制登录按钮加载状态)
-   **交互细节**：
    -   **用户输入**：实时绑定到 `formData`。
    -   **表单验证**：基于 `a-form-item` 的 `rules` 属性进行客户端验证。
    -   **登录提交**：点击登录按钮触发 `handleLogin` 方法。
        -   调用后端登录 API (`/api/v1/auth/login`)，传递 `formData`。
        -   请求期间 `loadingState` 设置为 `true`，请求结束后设置为 `false`。
        -   **成功**：后端返回 JWT Token，存储到 `localStorage` 或 `sessionStorage`，并通过 `Pinia` 更新用户状态。然后使用 `vue-router` 跳转到 `/dashboard` (系统看板页)。
        -   **失败**：后端返回错误信息，使用 `a-message.error()` 显示错误提示（如“用户名或密码错误”）。
    -   **注册/忘记密码链接**：点击后通过 `vue-router` 跳转到对应的 `/register` 或 `/forgot-password` 路由。
-   **状态管理**：
    -   使用 Pinia Store (`userStore`) 存储用户登录状态 (`isLoggedIn`) 和用户信息 (`userInfo`, `token`)。
    -   登录成功后，`userStore.login(token, userInfo)`。
-   **路由**：
    -   登录页路由：`/login`
    -   注册页路由：`/register`
    -   忘记密码页路由：`/forgot-password`
-   **权限控制**：
    -   登录页无需权限。
    -   已登录用户访问登录页时，应自动重定向到系统首页 (`/dashboard`)。

### 2. 系统看板页

-   **页面结构**：
    -   **布局**：采用响应式两列或三列布局，顶部可放置概览卡片，下方放置图表区域。
    -   **概览卡片**：使用 `a-card` 或自定义组件展示关键指标。
    -   **图表区域**：使用 `a-card` 包含 ECharts 图表。
-   **组件构成**：
    -   `a-row`, `a-col`：用于响应式布局。
    -   `a-card`：卡片组件，用于包裹各个模块内容。
    -   `a-statistic`：统计数值组件，用于展示在线设备数、告警数等。
    -   `ECharts` 组件：用于渲染实时数据曲线、设备状态分布图（饼图/柱状图）。
        -   `options`: `chartOptions` (图表配置项)
        -   `data`: `chartData` (图表数据)
    -   `a-range-picker`：时间范围选择器。
        -   `v-model:value`: `dateRange` (日期范围数组)
        -   `@change`: `onDateRangeChange` (时间范围改变事件)
-   **数据绑定**：
    -   `onlineDevicesCount`: `number` (在线设备数)
    -   `alarmCount`: `number` (告警数)
    -   `realtimeChartData`: `array` (实时数据图表数据)
    -   `deviceStatusDistributionData`: `array` (设备状态分布数据)
    -   `dateRange`: `[moment, moment]` (时间范围)
-   **交互细节**：
    -   **数据刷新**：通过 `setInterval` 或 WebSocket 实时获取数据并更新 `realtimeChartData` 和 `onlineDevicesCount`, `alarmCount`。
    -   **图表交互**：
        -   点击图表（如设备状态分布饼图的某个扇区）可触发路由跳转，例如跳转到设备管理页并筛选对应状态的设备。
        -   点击概览卡片（如告警数）可跳转到告警中心页。
    -   **时间范围选择**：用户选择时间范围后，`onDateRangeChange` 方法触发数据重新加载，更新图表和指标数据。
-   **状态管理**：
    -   使用 Pinia Store (`dashboardStore`) 存储看板页的实时数据、统计数据和时间范围。
    -   数据获取逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   看板页路由：`/dashboard`
    -   点击图表或指标跳转到：`/device-management?status=online` 或 `/alarm-center` 等。

### 3. 系统设置页

-   **页面结构**：
    -   **布局**：左侧为侧边导航菜单（`a-menu`），右侧为内容区域（`router-view`），根据选择的子模块动态加载。
    -   **子模块页面**：每个子模块（用户管理、角色管理等）独立为一个 Vue 组件。
-   **组件构成**：
    -   `a-layout`, `a-layout-sider`, `a-layout-content`：整体布局。
    -   `a-menu`：侧边导航菜单，用于切换子模块。
        -   `mode`: `inline`
        -   `theme`: `light`
        -   `selectedKeys`: `currentSelectedKey` (当前选中菜单项)
        -   `@click`: `onMenuClick` (菜单点击事件，用于路由跳转)
    -   **用户管理** (`UserManagement.vue`):
        -   `a-table`：用户列表，包含分页、排序、筛选功能。
        -   `a-modal`：新增/编辑用户弹窗，包含 `a-form`。
        -   `a-button`：新增、编辑、删除按钮。
    -   **角色管理** (`RoleManagement.vue`):
        -   `a-table`：角色列表。
        -   `a-modal`：新增/编辑角色弹窗，包含 `a-form` 和 `a-tree` (用于权限配置)。
    -   **菜单管理** (`MenuManagement.vue`):
        -   `a-tree`：菜单树形结构，支持拖拽。
        -   `a-modal`：新增/编辑菜单弹窗。
    -   **API管理** (`ApiManagement.vue`):
        -   `a-table`：API 列表。
        -   `a-modal`：新增/编辑 API 弹窗。
    -   **部门管理** (`DeptManagement.vue`):
        -   `a-tree`：部门树形结构。
        -   `a-modal`：新增/编辑部门弹窗。
    -   **审计日志** (`AuditLog.vue`):
        -   `a-range-picker`：时间范围选择。
        -   `a-select`：日志类型选择。
        -   `a-table`：日志列表。
    -   **系统参数配置** (`SystemSettings.vue`):
        -   `a-form`：表单，包含各种配置项（如 `a-input`, `a-select`, `a-switch`）。
-   **数据绑定**：
    -   `currentSelectedKey`: `string` (当前选中的菜单项 key)
    -   各子模块内部的数据绑定（如用户列表 `userData`, 角色列表 `roleData` 等）。
-   **交互细节**：
    -   **菜单切换**：点击侧边菜单项，通过 `onMenuClick` 方法使用 `vue-router` 跳转到对应的子路由。
    -   **CRUD 操作**：各子模块内部实现数据的增删改查。
        -   新增/编辑：点击按钮弹出模态框，填写表单后提交。
        -   删除：点击删除按钮，弹出确认框，确认后调用删除 API。
    -   **权限配置**：角色管理中，通过树形组件展示菜单/API权限，用户勾选后保存。
    -   **日志查询**：用户选择时间范围和日志类型后，点击查询按钮加载日志数据。
    -   **系统参数保存**：修改参数后点击保存按钮，调用后端 API 更新配置。
-   **状态管理**：
    -   各子模块可有自己的 Pinia Store，管理模块内部数据和状态。
    -   例如 `userStore` 管理用户数据，`roleStore` 管理角色数据。
-   **路由**：
    -   系统设置主路由：`/settings`
    -   子路由：`/settings/users`, `/settings/roles`, `/settings/menus`, `/settings/apis`, `/settings/depts`, `/settings/audit-logs`, `/settings/system-params`
-   **权限控制**：
    -   通过路由守卫 (`beforeEach`) 和后端 API 鉴权，控制用户对不同设置子模块的访问权限。
    -   菜单项的显示也应根据用户权限动态生成。

### 4. 设备信息

#### 4.1 设备管理页

-   **页面结构**：
    -   **布局**：顶部为搜索/筛选区域和操作按钮，下方为设备列表表格。
    -   **搜索/筛选区域**：包含输入框、选择器和按钮。
    -   **操作按钮**：新增、批量删除等。
    -   **设备列表**：使用 `a-table` 组件展示。
-   **组件构成**：
    -   `a-input-search`：搜索框，用于设备名称或 ID 搜索。
    -   `a-select`：筛选器，用于设备状态、位置等筛选。
    -   `a-button`：新增设备按钮 (`type="primary"`)，批量删除按钮 (`danger` 类型)。
    -   `a-table`：设备列表表格。
        -   `columns`: `tableColumns` (表格列配置)
        -   `dataSource`: `deviceList` (设备数据列表)
        -   `pagination`: `paginationConfig` (分页配置)
        -   `rowSelection`: `rowSelectionConfig` (行选择配置，用于批量操作)
        -   `@change`: `handleTableChange` (分页、排序、筛选变化事件)
        -   `@customRow`: `handleRowClick` (自定义行点击事件，用于查看详情)
    -   `a-modal`：新增/编辑设备弹窗。
        -   `title`: `新增设备` 或 `编辑设备`
        -   `visible`: `modalVisible`
        -   `onOk`: `handleModalOk`
        -   `onCancel`: `handleModalCancel`
        -   `a-form`：弹窗内的表单，用于填写设备信息（名称、ID、类型、位置、描述等）。
-   **数据绑定**：
    -   `searchKeyword`: `string` (搜索关键字)
    -   `filterStatus`: `string` (筛选状态)
    -   `deviceList`: `array` (设备数据数组)
    -   `paginationConfig`: `{ current: 1, pageSize: 10, total: 0 }`
    -   `selectedRowKeys`: `array` (选中的行 key 数组)
    -   `modalVisible`: `boolean` (模态框显示状态)
    -   `formData`: `{ name: '', id: '', type: '', location: '', description: '' }` (表单数据)
    -   `isEditMode`: `boolean` (是否为编辑模式)
-   **交互细节**：
    -   **搜索/筛选**：用户输入关键字或选择筛选条件后，触发数据重新加载。
    -   **新增设备**：点击“新增设备”按钮，`modalVisible` 设置为 `true`，`formData` 清空，`isEditMode` 为 `false`。填写表单后点击确定，调用后端 API (`/api/v1/devices`) 添加设备。
    -   **编辑设备**：点击表格行中的“编辑”按钮，`modalVisible` 设置为 `true`，`formData` 填充当前设备信息，`isEditMode` 为 `true`。修改表单后点击确定，调用后端 API (`/api/v1/devices/{id}`) 更新设备信息。
    -   **删除设备**：点击表格行中的“删除”按钮或批量删除按钮，弹出确认框。确认后调用后端 API (`/api/v1/devices/{id}`) 删除设备。
    -   **查看设备详情**：点击设备行，通过 `handleRowClick` 方法使用 `vue-router` 跳转到 `/device-management/{id}/detail` 或 `/device-realtime-monitor?deviceId={id}`。
    -   **批量操作**：选中多行后，点击批量删除按钮，调用后端 API 批量删除。
    -   **分页/排序/筛选**：`handleTableChange` 方法根据 `paginationConfig` 和筛选条件重新加载数据。
-   **状态管理**：
    -   使用 Pinia Store (`deviceStore`) 存储设备列表数据、分页信息和筛选条件。
    -   数据获取、新增、编辑、删除等操作封装在 Store 的 actions 中。
-   **路由**：
    -   设备管理页路由：`/device-management`
    -   设备详情页路由：`/device-management/:id/detail` 或 `/device-realtime-monitor` (带参数)
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，控制用户对设备管理页面的访问权限以及新增、编辑、删除等操作权限。

#### 4.2 设备实时监测页

-   **页面结构**：
    -   **布局**：顶部为设备信息概览，下方为实时参数选择和多个 ECharts 实时曲线图区域。
    -   **设备信息概览**：显示设备名称、ID、状态等。
    -   **参数选择**：多选框或下拉框，用于选择要显示的实时参数。
    -   **图表区域**：每个选中的参数对应一个独立的实时曲线图。
-   **组件构成**：
    -   `a-descriptions`：用于展示设备基本信息。
    -   `a-select` (多选模式) 或 `a-checkbox-group`：用于选择实时监测参数。
        -   `v-model:value`: `selectedParameters` (选中的参数数组)
        -   `options`: `availableParameters` (可选参数列表)
        -   `@change`: `onParameterChange` (参数选择变化事件)
    -   `ECharts` 组件：用于绘制实时曲线图。
        -   每个选中的参数对应一个图表实例。
        -   `options`: `chartOptions[parameterName]` (每个图表的配置)
        -   `data`: `realtimeData[parameterName]` (每个图表的实时数据)
-   **数据绑定**：
    -   `deviceId`: `string` (当前监测的设备 ID，从路由参数获取)
    -   `deviceInfo`: `object` (设备基本信息)
    -   `availableParameters`: `array` (可供选择的参数列表，如 `[{ label: '温度', value: 'temperature' }, ...]`)
    -   `selectedParameters`: `array` (当前选中的参数)
    -   `realtimeData`: `object` (存储每个参数的实时数据，如 `{ temperature: [{ time: '...', value: ... }], ... }`)
    -   `chartOptions`: `object` (存储每个参数的 ECharts 配置)
-   **交互细节**：
    -   **设备加载**：页面加载时，根据路由参数 `deviceId` 获取设备基本信息和可监测参数列表。
    -   **数据刷新**：
        -   通过 WebSocket 连接或 `setInterval` 定时请求后端 API (`/api/v1/devices/{id}/realtime-data`) 获取选定参数的最新数据。
        -   获取到新数据后，更新 `realtimeData`，并动态更新 ECharts 图表。
        -   数据点通常包含时间戳和数值，图表应能平滑滚动显示最新数据。
    -   **参数选择**：用户勾选或取消勾选参数时，`onParameterChange` 触发，动态添加或移除对应的 ECharts 图表，并开始/停止获取该参数的实时数据。
    -   **图表交互**：
        -   提供图例点击隐藏/显示曲线功能。
        -   鼠标悬浮到曲线上时，显示 tooltip，展示具体数值和时间。
        -   图表可配置缩放、平移功能，方便用户查看历史趋势。
-   **状态管理**：
    -   使用 Pinia Store (`realtimeMonitorStore`) 存储当前设备的实时数据、选中的参数和图表配置。
    -   WebSocket 连接或定时请求逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   设备实时监测页路由：`/device-realtime-monitor/:id` 或 `/device-realtime-monitor?deviceId={id}`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限查看指定设备的实时数据。

#### 4.3 历史数据查询页

-   **页面结构**：
    -   **布局**：顶部为查询条件区域，下方为历史曲线图和数据表格区域。
    -   **查询条件区域**：包含时间选择器、设备选择器、参数选择器和查询按钮。
    -   **图表区域**：ECharts 历史曲线图。
    -   **数据表格区域**：`a-table` 展示详细数据。
-   **组件构成**：
    -   `a-range-picker`：时间范围选择器。
        -   `v-model:value`: `dateRange`
    -   `a-select`：设备选择器 (`mode="multiple"` 或单选)。
        -   `v-model:value`: `selectedDevices`
        -   `options`: `deviceOptions`
    -   `a-select`：参数选择器 (`mode="multiple"` 或单选)。
        -   `v-model:value`: `selectedParameters`
        -   `options`: `parameterOptions`
    -   `a-button`：查询按钮 (`@click="handleQuery"`) 和导出按钮 (`@click="handleExport"`).
    -   `ECharts` 组件：用于绘制历史曲线图。
        -   `options`: `chartOptions`
        -   `data`: `historyChartData`
    -   `a-table`：历史数据表格。
        -   `columns`: `tableColumns`
        -   `dataSource`: `historyTableData`
        -   `pagination`: `paginationConfig`
        -   `@change`: `handleTableChange`
-   **数据绑定**：
    -   `dateRange`: `[moment, moment]` (查询时间范围)
    -   `selectedDevices`: `array` (选中的设备 ID 数组)
    -   `selectedParameters`: `array` (选中的参数 ID 数组)
    -   `deviceOptions`: `array` (设备下拉选项)
    -   `parameterOptions`: `array` (参数下拉选项)
    -   `historyChartData`: `object` (ECharts 图表数据，包含 series 等)
    -   `historyTableData`: `array` (表格数据)
    -   `paginationConfig`: `{ current: 1, pageSize: 10, total: 0 }`
-   **交互细节**：
    -   **初始化**：页面加载时，获取设备列表和可查询参数列表，填充选择器。
    -   **查询操作**：用户选择时间范围、设备和参数后，点击“查询”按钮。
        -   调用后端 API (`/api/v1/history-data`)，传递查询条件。
        -   后端返回历史数据，更新 `historyChartData` 和 `historyTableData`。
    -   **图表交互**：
        -   图表支持缩放、平移、数据区域选择等功能，方便用户分析特定时间段的数据。
        -   鼠标悬浮显示 tooltip。
    -   **表格交互**：
        -   表格支持分页、排序、列筛选。
        -   点击表头可进行排序，点击分页器切换页码。
    -   **数据导出**：点击“导出”按钮，调用后端 API 导出数据为 CSV 或 Excel 文件，或在前端生成文件下载。
-   **状态管理**：
    -   使用 Pinia Store (`historyDataStore`) 存储查询条件、历史数据和分页信息。
    -   数据查询和导出逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   历史数据查询页路由：`/history-data-query`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限访问历史数据查询功能。

### 5. 数据统计页

-   **页面结构**：
    -   **布局**：顶部为统计条件选择区域，下方为多个统计图表卡片。
    -   **统计条件区域**：包含时间范围选择器、统计维度选择器等。
    -   **图表区域**：多个 `a-card` 包含不同的 ECharts 统计图表。
-   **组件构成**：
    -   `a-range-picker`：时间范围选择器。
        -   `v-model:value`: `statisticDateRange`
    -   `a-select`：统计维度选择器（如按设备、按时间粒度等）。
        -   `v-model:value`: `statisticDimension`
        -   `options`: `dimensionOptions`
    -   `a-button`：查询按钮 (`@click="handleStatisticQuery"`) 和导出报告按钮 (`@click="handleExportReport"`).
    -   `a-card`：用于包裹每个统计图表。
    -   `ECharts` 组件：用于绘制各种统计图表（柱状图、折线图、饼图等）。
        -   `options`: `chartOptions[key]`
        -   `data`: `statisticChartData[key]`
-   **数据绑定**：
    -   `statisticDateRange`: `[moment, moment]` (统计时间范围)
    -   `statisticDimension`: `string` (选中的统计维度)
    -   `dimensionOptions`: `array` (统计维度下拉选项)
    -   `statisticChartData`: `object` (包含多个图表的数据，如 `deviceRunTimeData`, `faultRateData`, `energyConsumptionData`)
-   **交互细节**：
    -   **初始化**：页面加载时，默认显示最近一段时间的统计数据。
    -   **统计查询**：用户选择统计条件后，点击“查询”按钮。
        -   调用后端 API (`/api/v1/statistics`)，传递统计条件。
        -   后端返回各类统计数据，更新 `statisticChartData`。
    -   **图表交互**：
        -   每个图表支持独立的缩放、平移、tooltip 显示。
        -   部分图表可能支持下钻（点击图表元素进入更详细的统计页面或弹出框）。
        -   图表之间可能存在联动，例如选择某个设备后，所有相关图表数据同步更新。
    -   **报告导出**：点击“导出报告”按钮，调用后端 API 生成并下载统计报告（PDF 或 Excel 格式）。
-   **状态管理**：
    -   使用 Pinia Store (`statisticStore`) 存储统计条件和统计数据。
    -   统计查询和报告导出逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   数据统计页路由：`/data-statistics`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限访问数据统计功能.

### 6. 告警中心页

-   **页面结构**：
    -   **布局**：顶部为告警筛选条件区域，下方为实时告警列表、历史告警表格和告警统计图表。
    -   **筛选区域**：包含时间范围、告警等级、设备等筛选条件。
    -   **实时告警区域**：滚动展示最新告警。
    -   **历史告警区域**：`a-table` 展示历史告警。
    -   **统计图表区域**：ECharts 告警统计图。
-   **组件构成**：
    -   `a-range-picker`：时间范围选择器。
        -   `v-model:value`: `alarmDateRange`
    -   `a-select`：告警等级选择器。
        -   `v-model:value`: `selectedAlarmLevel`
        -   `options`: `alarmLevelOptions`
    -   `a-select`：设备选择器。
        -   `v-model:value`: `selectedAlarmDevice`
        -   `options`: `deviceOptions`
    -   `a-button`：查询按钮 (`@click="handleAlarmQuery"`) 和导出按钮 (`@click="handleAlarmExport"`).
    -   `a-list`：实时告警列表。
        -   `dataSource`: `realtimeAlarms`
    -   `a-table`：历史告警表格。
        -   `columns`: `alarmTableColumns`
        -   `dataSource`: `historyAlarms`
        -   `pagination`: `alarmPaginationConfig`
        -   `@change`: `handleAlarmTableChange`
    -   `ECharts` 组件：用于绘制告警统计图（如按等级分布、按时间趋势）。
        -   `options`: `alarmChartOptions`
        -   `data`: `alarmChartData`
    -   `a-modal`：告警详情弹窗。
-   **数据绑定**：
    -   `alarmDateRange`: `[moment, moment]` (告警查询时间范围)
    -   `selectedAlarmLevel`: `string` (选中的告警等级)
    -   `selectedAlarmDevice`: `string` (选中的设备 ID)
    -   `realtimeAlarms`: `array` (实时告警数据)
    -   `historyAlarms`: `array` (历史告警数据)
    -   `alarmPaginationConfig`: `{ current: 1, pageSize: 10, total: 0 }`
    -   `alarmChartData`: `object` (告警统计图数据)
-   **交互细节**：
    -   **实时告警**：
        -   通过 WebSocket 或定时轮询 (`/api/v1/realtime-alarms`) 获取最新告警，并以滚动列表形式展示。
        -   新告警到达时，可触发桌面通知或声音提示。
        -   点击实时告警项，弹出告警详情弹窗。
    -   **历史告警查询**：
        -   用户选择筛选条件后，点击“查询”按钮。
        -   调用后端 API (`/api/v1/history-alarms`) 获取历史告警数据，更新 `historyAlarms`。
        -   表格支持分页、排序、筛选。
    -   **告警处理**：
        -   在历史告警表格中，每条告警可提供“确认”、“处理”、“忽略”等操作按钮。
        -   点击操作按钮，调用后端 API (`/api/v1/alarms/{id}/action`) 更新告警状态。
    -   **告警统计**：
        -   根据筛选条件，调用后端 API (`/api/v1/alarm-statistics`) 获取统计数据，更新 `alarmChartData`。
        -   图表支持交互式分析，如点击图例筛选数据、缩放等。
    -   **告警详情**：
        -   点击告警列表或表格中的告警项，弹出模态框显示告警的详细信息（时间、设备、参数、值、描述、处理建议等）。
        -   详情中可包含跳转到相关设备实时监测页面的链接。
-   **状态管理**：
    -   使用 Pinia Store (`alarmStore`) 存储告警数据、筛选条件和分页信息。
    -   告警的获取、处理、统计逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   告警中心页路由：`/alarm-center`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限访问告警中心功能，并根据角色控制告警处理权限.

### 7. AI分析页

-   **页面结构**：
    -   **布局**：顶部为 AI 模型选择和参数配置区域，下方为 AI 分析结果展示区域。
    -   **配置区域**：包含模型选择器、输入参数表单、运行按钮。
    -   **结果展示区域**：多个 `a-card` 包含不同的 ECharts 图表、`a-table` 或文本展示。
-   **组件构成**：
    -   `a-select`：AI 模型选择器。
        -   `v-model:value`: `selectedAIModel`
        -   `options`: `aiModelOptions`
    -   `a-form` / `a-input` / `a-input-number` / `a-date-picker` 等：用于配置模型输入参数。
        -   `v-model:value`: `modelParameters`
    -   `a-button`：运行分析按钮 (`@click="runAIAnalysis"`) 和生成报告按钮 (`@click="generateAIReport"`).
    -   `a-card`：用于包裹不同的分析结果展示。
    -   `ECharts` 组件：用于展示预测曲线、异常分布等。
        -   `options`: `aiChartOptions`
        -   `data`: `aiChartData`
    -   `a-table`：用于展示预测数据、异常列表等。
        -   `columns`: `aiTableColumns`
        -   `dataSource`: `aiTableData`
    -   `a-textarea` 或 `a-typography`：用于展示文本形式的分析报告或建议。
-   **数据绑定**：
    -   `selectedAIModel`: `string` (选中的 AI 模型 ID)
    -   `aiModelOptions`: `array` (AI 模型下拉选项)
    -   `modelParameters`: `object` (模型输入参数，根据选定模型动态变化)
    -   `aiChartData`: `object` (AI 分析图表数据)
    -   `aiTableData`: `array` (AI 分析表格数据)
    -   `aiReportContent`: `string` (AI 分析报告文本内容)
-   **交互细节**：
    -   **模型选择与参数配置**：
        -   用户选择不同的 AI 模型时，下方的参数配置表单会根据模型的输入要求动态生成。
        -   用户填写或选择参数值。
    -   **运行分析**：
        -   点击“运行分析”按钮，前端对参数进行初步校验。
        -   调用后端 AI 服务 API (`/api/v1/ai-analysis/{model_id}`)，传递模型 ID 和参数。
        -   后端执行 AI 分析，返回预测结果、异常检测结果或维护建议。
        -   前端接收结果，更新 `aiChartData`、`aiTableData` 和 `aiReportContent`，并渲染到页面。
    -   **结果可视化**：
        -   预测曲线图：展示未来趋势预测。
        -   异常分布图：标记出异常点或异常区间。
        -   表格：详细列出预测数值、异常事件、诊断信息等。
        -   文本报告：提供结构化的维护建议和解释。
    -   **报告生成**：点击“生成报告”按钮，可将当前的分析结果导出为 PDF 或其他格式的报告。
-   **状态管理**：
    -   使用 Pinia Store (`aiAnalysisStore`) 存储模型选择、参数、分析结果等。
    -   AI 分析的调用和结果处理逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   AI 分析页路由：`/ai-analysis`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限访问 AI 分析功能，并根据角色控制可用的 AI 模型和操作。

### 8. 流程编排页

-   **页面结构**：
    -   **布局**：左侧为流程组件库，中间为流程设计画布，右侧为节点属性配置面板，顶部为操作按钮区。
    -   **组件库**：可拖拽的流程节点（如开始、结束、条件、任务、通知等）。
    -   **设计画布**：基于图形化库（如 `Vue Flow` 或 `X6`）实现。
    -   **属性面板**：`a-form` 用于配置选中节点的属性。
-   **组件构成**：
    -   `a-layout` / `a-layout-sider` / `a-layout-content`：整体布局。
    -   `a-button`：保存、加载、发布、测试、运行、监控等操作按钮。
    -   `a-drawer` 或 `a-modal`：用于显示流程模板库、流程版本历史、流程执行日志等。
    -   **流程设计器组件**：
        -   提供画布、节点、连线等核心功能。
        -   支持拖拽、缩放、平移、撤销/重做。
        -   节点上下文菜单（删除、复制等）。
    -   `a-form` / `a-input` / `a-select` / `a-switch` 等：用于节点属性配置。
-   **数据绑定**：
    -   `flowNodes`: `array` (画布上的节点数据)
    -   `flowEdges`: `array` (画布上的连线数据)
    -   `selectedNodeProperties`: `object` (当前选中节点的属性数据)
    -   `flowTemplates`: `array` (流程模板列表)
    -   `flowVersions`: `array` (流程版本列表)
-   **交互细节**：
    -   **流程设计**：
        -   **拖拽节点**：用户从左侧组件库拖拽节点到画布，创建新节点。
        -   **连接节点**：用户通过鼠标在节点之间拖拽创建连线，定义流程走向。
        -   **配置节点**：双击或选中节点后，右侧属性面板显示该节点的配置项，用户可编辑任务类型、执行参数、条件表达式等。
        -   **保存/加载**：点击“保存”按钮，将当前流程定义（`flowNodes` 和 `flowEdges`）保存到后端 API (`/api/v1/workflows`)；点击“加载”，从后端获取并渲染流程。
        -   **版本管理**：提供“保存为新版本”、“回滚到历史版本”等功能，调用后端 API (`/api/v1/workflows/{id}/versions`)。
        -   **流程测试**：点击“测试”按钮，模拟流程执行，并显示执行结果或日志。
    -   **流程发布与运行**：
        -   **发布**：点击“发布”按钮，将流程标记为可执行状态，调用后端 API (`/api/v1/workflows/{id}/publish`)。
        -   **运行**：手动触发流程运行，或配置定时任务、事件触发器来自动运行。
    -   **流程监控**：
        -   提供流程执行列表，显示每个流程实例的状态（运行中、成功、失败）。
        -   点击流程实例可查看详细的执行日志、每个节点的执行状态和耗时。
        -   图示化展示流程执行路径，高亮当前正在执行的节点。
-   **状态管理**：
    -   使用 Pinia Store (`workflowStore`) 存储流程定义、节点属性、流程状态等。
    -   流程的创建、编辑、保存、加载、运行、监控等逻辑封装在 Store 的 actions 中。
-   **路由**：
    -   流程编排页路由：`/workflow-editor`
    -   流程监控页路由：`/workflow-monitor`
-   **权限控制**：
    -   通过路由守卫和后端 API 鉴权，确保用户有权限访问流程编排和监控功能，并根据角色控制流程的创建、编辑、发布、运行权限。

## 四、前端与后端交互

-   **API 接口**：前端通过 Axios 库调用 FastAPI 后端提供的 RESTful API 接口。
-   **数据格式**：前后端之间的数据传输采用 JSON 格式。
-   **认证机制**：采用 JWT (JSON Web Token) 进行用户认证。用户登录成功后，后端返回 JWT，前端将其存储在本地（如 localStorage），并在后续请求中通过 Authorization Header 携带。
-   **错误处理**：前端统一拦截 API 请求错误，根据错误码和信息进行友好的提示。

## 五、响应式设计与适配

-   **布局**：采用 Ant Design Vue 的栅格系统和响应式断点，确保页面在不同屏幕尺寸下自动调整布局。
-   **组件**：利用 Ant Design Vue 组件的响应式特性，如表格的滚动、表单的自适应布局等。
-   **移动端优化**：针对移动端提供更简洁的导航和操作方式，如抽屉式菜单、底部导航栏等（根据实际需求决定是否实现）。

## 六、国际化

-   **实现方式**：集成 Vue I18n 库，支持多语言切换。
-   **内容**：包括界面文本、提示信息、错误信息等。
-   **交互**：提供语言切换按钮或下拉菜单，用户可自由选择显示语言。
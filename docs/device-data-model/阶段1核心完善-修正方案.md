# é˜¶æ®µ1æ ¸å¿ƒå®Œå–„ - ä¿®æ­£æ–¹æ¡ˆ

> **æ›´æ–°æ—¶é—´**: 2025-11-04  
> **çŠ¶æ€**: åŸºäºç”¨æˆ·åé¦ˆçš„ä¿®æ­£æ–¹æ¡ˆ  

---

## ğŸ“¢ ç”¨æˆ·åé¦ˆçš„é‡è¦ä¿¡æ¯

### âœ… åé¦ˆ1: t_ai_predictionsè¡¨å·²å­˜åœ¨
**ä½ç½®**: `app/models/ai_monitoring.py`  
**è¡¨å**: `t_ai_predictions`  
**çŠ¶æ€**: âœ… å·²å­˜åœ¨å¹¶å¯ç”¨

### âœ… åé¦ˆ2: Mockæ•°æ®ç®¡ç†æœ‰å¼€å¯æŒ‰é’®
**ä½ç½®**: `app/api/v2/mock_data.py`  
**åŠŸèƒ½**: âœ… å·²æœ‰enabledå­—æ®µå’Œtoggleæ¥å£

---

## ğŸ” æ·±åº¦åˆ†æ

### 1. t_ai_predictions è¡¨ç»“æ„åˆ†æ

#### 1.1 è¡¨ç»“æ„è¯¦æƒ…

```python
class AIPrediction(BaseModel):
    """AIè¶‹åŠ¿é¢„æµ‹æ¨¡å‹"""
    
    class Meta:
        table = "t_ai_predictions"
    
    # åŸºæœ¬ä¿¡æ¯
    prediction_name = fields.CharField(max_length=200)     # é¢„æµ‹åç§°
    description = fields.TextField(null=True)              # é¢„æµ‹æè¿°
    
    # é¢„æµ‹é…ç½®
    target_variable = fields.CharField(max_length=100)     # ç›®æ ‡å˜é‡ï¼ˆå¦‚æ¸©åº¦ã€å‹åŠ›ï¼‰
    prediction_horizon = fields.IntField()                 # é¢„æµ‹æ—¶é—´èŒƒå›´ï¼ˆå°æ—¶ï¼‰
    model_type = fields.CharField(max_length=50)          # æ¨¡å‹ç±»å‹ï¼ˆARIMA/MA/ES/LRï¼‰
    parameters = fields.JSONField(default=dict)            # é¢„æµ‹å‚æ•°
    
    # æ•°æ®æº
    data_source = fields.CharField(max_length=100)         # æ•°æ®æº
    data_filters = fields.JSONField(default=dict)          # è¿‡æ»¤æ¡ä»¶
    
    # çŠ¶æ€å’Œè¿›åº¦
    status = fields.CharEnumField(PredictionStatus)        # pending/running/completed/failed
    progress = fields.IntField(default=0)                  # è¿›åº¦(0-100)
    
    # ç»“æœæ•°æ® â­ å…³é”®å­—æ®µ
    result_data = fields.JSONField(null=True)              # é¢„æµ‹ç»“æœï¼ˆJSONæ ¼å¼ï¼‰
    accuracy_score = fields.FloatField(null=True)          # å‡†ç¡®ç‡
    confidence_interval = fields.JSONField(null=True)      # ç½®ä¿¡åŒºé—´
    
    # æ‰§è¡Œä¿¡æ¯
    started_at = fields.DatetimeField(null=True)           # å¼€å§‹æ—¶é—´
    completed_at = fields.DatetimeField(null=True)         # å®Œæˆæ—¶é—´
    error_message = fields.TextField(null=True)            # é”™è¯¯ä¿¡æ¯
    
    # åˆ†äº«å’Œå¯¼å‡º
    export_formats = fields.JSONField(default=list)
    is_public = fields.BooleanField(default=False)
    
    # å®¡è®¡å­—æ®µ
    created_at = fields.DatetimeField(auto_now_add=True)
    updated_at = fields.DatetimeField(auto_now=True)
    created_by = fields.BigIntField(null=True)
    updated_by = fields.BigIntField(null=True)
```

---

#### 1.2 é€‚ç”¨æ€§åˆ†æ

**âœ… ä¼˜ç‚¹**:
1. âœ… è¡¨ç»“æ„å®Œæ•´ï¼Œå·²åŒ…å«é¢„æµ‹é…ç½®å’Œç»“æœå­˜å‚¨
2. âœ… `result_data` (JSON)å¯ä»¥çµæ´»å­˜å‚¨é¢„æµ‹ç»“æœ
3. âœ… `confidence_interval` æ”¯æŒç½®ä¿¡åŒºé—´
4. âœ… æ”¯æŒçŠ¶æ€è·Ÿè¸ªï¼ˆpending/running/completedï¼‰
5. âœ… æ”¯æŒä»»åŠ¡è¿›åº¦è¿½è¸ª
6. âœ… å·²æœ‰ORM Modelï¼Œæ— éœ€é‡æ–°åˆ›å»º

**âš ï¸ æ³¨æ„ç‚¹**:
1. âš ï¸ `result_data` æ˜¯JSONå­—æ®µï¼Œéœ€è¦å®šä¹‰ç»“æœæ•°æ®ç»“æ„
2. âš ï¸ è¡¨è®¾è®¡åå‘"é¢„æµ‹ä»»åŠ¡"è€Œé"é¢„æµ‹ç»“æœè®°å½•"
3. âš ï¸ ç¼ºå°‘è®¾å¤‡ç»´åº¦çš„å¿«é€ŸæŸ¥è¯¢å­—æ®µï¼ˆéœ€è¦ä»data_filtersè§£æï¼‰

---

#### 1.3 ä½¿ç”¨æ–¹æ¡ˆ

**æ–¹æ¡ˆA: ç›´æ¥ä½¿ç”¨ t_ai_predictionsï¼ˆæ¨èâ­â­â­â­â­ï¼‰**

**ä¼˜åŠ¿**:
- âœ… æ— éœ€åˆ›å»ºæ–°è¡¨
- âœ… ç«‹å³å¯ç”¨
- âœ… ç¬¦åˆAIæ¨¡å—è®¾è®¡
- âœ… èŠ‚çœå¼€å‘æ—¶é—´

**result_data JSONç»“æ„è®¾è®¡**:

```json
{
  "predictions": [
    {
      "time": "2024-01-16 10:00:00",
      "value": 75.5,
      "confidence": 0.92,
      "lower_bound": 73.0,
      "upper_bound": 78.0
    },
    {
      "time": "2024-01-16 11:00:00",
      "value": 76.2,
      "confidence": 0.90,
      "lower_bound": 73.5,
      "upper_bound": 78.9
    }
    // ... æ›´å¤šé¢„æµ‹ç‚¹
  ],
  "metadata": {
    "device_code": "WLD-001",
    "device_name": "ç„Šæ¥è®¾å¤‡01",
    "prediction_method": "ARIMA",
    "total_points": 24,
    "avg_confidence": 0.91
  },
  "actual_values": [
    // äº‹åå¡«å……çš„å®é™…å€¼ï¼Œç”¨äºéªŒè¯å‡†ç¡®æ€§
    {
      "time": "2024-01-16 10:00:00",
      "value": 75.2,
      "error": -0.3
    }
  ]
}
```

**ä½¿ç”¨ç¤ºä¾‹**:

```python
# åˆ›å»ºé¢„æµ‹ä»»åŠ¡
prediction = await AIPrediction.create(
    prediction_name="ç„Šæ¥è®¾å¤‡01-æ¸©åº¦é¢„æµ‹-24å°æ—¶",
    description="ä½¿ç”¨ARIMAæ¨¡å‹é¢„æµ‹æœªæ¥24å°æ—¶æ¸©åº¦å˜åŒ–",
    target_variable="temperature",
    prediction_horizon=24,  # 24å°æ—¶
    model_type="ARIMA",
    parameters={"p": 1, "d": 1, "q": 1},
    data_source="t_device_realtime_data",
    data_filters={"device_code": "WLD-001"},
    status=PredictionStatus.PENDING
)

# æ‰§è¡Œé¢„æµ‹ï¼ˆè°ƒç”¨é¢„æµ‹æœåŠ¡ï¼‰
result = await trend_predictor.predict(...)

# ä¿å­˜ç»“æœ
prediction.result_data = {
    "predictions": result["predictions"],
    "metadata": {...}
}
prediction.status = PredictionStatus.COMPLETED
prediction.accuracy_score = result["accuracy"]
prediction.confidence_interval = result["confidence_interval"]
prediction.completed_at = datetime.now()
await prediction.save()

# æŸ¥è¯¢å†å²é¢„æµ‹
predictions = await AIPrediction.filter(
    data_filters__device_code="WLD-001",
    target_variable="temperature",
    status=PredictionStatus.COMPLETED
).order_by('-created_at').limit(10)
```

---

**æ–¹æ¡ˆB: æ‰©å±•å­—æ®µï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰**

å¦‚æœéœ€è¦æ›´å¿«çš„æŸ¥è¯¢æ€§èƒ½ï¼Œå¯ä»¥æ·»åŠ å­—æ®µï¼š

```python
# åœ¨ t_ai_predictions è¡¨æ·»åŠ ï¼ˆå¯é€‰ï¼‰
device_code = fields.CharField(max_length=50, null=True, index=True)  # å†—ä½™å­—æ®µï¼Œä¾¿äºæŸ¥è¯¢
device_name = fields.CharField(max_length=100, null=True)
```

**SQLè¿ç§»è„šæœ¬**:
```sql
ALTER TABLE t_ai_predictions 
ADD COLUMN device_code VARCHAR(50),
ADD COLUMN device_name VARCHAR(100);

CREATE INDEX idx_predictions_device_code ON t_ai_predictions(device_code);
CREATE INDEX idx_predictions_device_time ON t_ai_predictions(device_code, created_at DESC);
```

**ä¼˜ç‚¹**:
- âœ… æŸ¥è¯¢æ€§èƒ½æ›´å¥½ï¼ˆæ— éœ€è§£æJSONï¼‰
- âœ… æ”¯æŒè®¾å¤‡ç»´åº¦ç­›é€‰
- âœ… ä¸ç ´åç°æœ‰ç»“æ„

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦æ‰§è¡Œæ•°æ®åº“è¿ç§»
- âš ï¸ å¢åŠ å†—ä½™å­—æ®µ

---

### 2. Mockæ•°æ®ç®¡ç†åŠŸèƒ½åˆ†æ

#### 2.1 ç°æœ‰åŠŸèƒ½ç¡®è®¤

**âœ… å·²å®ç°çš„åŠŸèƒ½**:

1. **enabledå­—æ®µ** (Boolean):
   ```python
   enabled = fields.BooleanField(default=True, description="æ˜¯å¦å¯ç”¨")
   ```

2. **Toggleæ¥å£** (`PUT /mock-data/{mock_id}/toggle`):
   ```python
   @router.put("/{mock_id}/toggle")
   async def toggle_mock_data(mock_id: int, toggle_request: MockDataToggleRequest):
       mock_data.enabled = toggle_request.enabled
       await mock_data.save()
       return formatter.success(message=f"Mockæ•°æ®å·²{'å¯ç”¨' if enabled else 'ç¦ç”¨'}")
   ```

3. **ä¼˜å…ˆçº§æ§åˆ¶**:
   ```python
   priority = fields.IntField(default=0, description="ä¼˜å…ˆçº§")
   ```

4. **URLæ¨¡å¼åŒ¹é…**:
   ```python
   url_pattern = fields.CharField(max_length=500, description="URLåŒ¹é…æ¨¡å¼")
   ```

---

#### 2.2 ä½¿ç”¨è¯„ä¼°

**âœ… ç°æœ‰åŠŸèƒ½å®Œå…¨æ»¡è¶³éœ€æ±‚**ï¼

**Demoå±•ç¤ºæ–¹æ¡ˆ**:

**æ­¥éª¤1: å‡†å¤‡AI Mockæ•°æ®**
```sql
-- æ’å…¥AIæ¨¡å—çš„Mockæ•°æ®
INSERT INTO t_mock_data (
    name, 
    url_pattern, 
    method, 
    response_data, 
    enabled,      -- é»˜è®¤ç¦ç”¨
    priority,     -- é«˜ä¼˜å…ˆçº§
    description
) VALUES
-- 1. å¼‚å¸¸æ£€æµ‹è®°å½•
(
    'AI-å¼‚å¸¸æ£€æµ‹-è®°å½•åˆ—è¡¨',
    '/api/v2/ai/anomaly-detection/records',
    'GET',
    '{
        "code": 200,
        "message": "success",
        "data": {
            "records": [...],
            "total": 100,
            "page": 1
        }
    }'::jsonb,
    FALSE,  -- é»˜è®¤ç¦ç”¨
    10,     -- é«˜ä¼˜å…ˆçº§
    'AIå¼‚å¸¸æ£€æµ‹Demoæ•°æ®'
),
-- 2. å¥åº·è¯„åˆ†å†å²
(
    'AI-å¥åº·è¯„åˆ†-å†å²è®°å½•',
    '/api/v2/ai/health-scores/history',
    'GET',
    '{...}'::jsonb,
    FALSE,
    10,
    'AIå¥åº·è¯„åˆ†Demoæ•°æ®'
),
-- 3. è¶‹åŠ¿é¢„æµ‹ç»“æœ
(
    'AI-è¶‹åŠ¿é¢„æµ‹-æ‰¹é‡é¢„æµ‹',
    '/api/v2/ai/predictions',
    'GET',
    '{...}'::jsonb,
    FALSE,
    10,
    'AIè¶‹åŠ¿é¢„æµ‹Demoæ•°æ®'
);
```

**æ­¥éª¤2: Demoæ¨¡å¼ä½¿ç”¨**

ç®¡ç†å‘˜åœ¨Mockæ•°æ®ç®¡ç†é¡µé¢ï¼š
1. æ‰¾åˆ°AIç›¸å…³çš„Mockæ•°æ®ï¼ˆé€šè¿‡nameç­›é€‰"AI-"ï¼‰
2. æ‰¹é‡å¯ç”¨ï¼ˆç‚¹å‡»å¼€å¯æŒ‰é’®ï¼‰
3. å‰ç«¯è‡ªåŠ¨ä½¿ç”¨Mockæ•°æ®
4. Demoç»“æŸåæ‰¹é‡ç¦ç”¨

---

#### 2.3 å¢å¼ºå»ºè®®ï¼ˆå¯é€‰ï¼‰

**å»ºè®®1: æ·»åŠ æ‰¹é‡Toggleæ¥å£**ï¼ˆæå‡æ•ˆç‡ï¼‰

```python
@router.post("/batch-toggle", summary="æ‰¹é‡å¯ç”¨/ç¦ç”¨Mockæ•°æ®")
async def batch_toggle_mock_data(
    toggle_request: MockDataBatchToggleRequest,
    current_user: User = DependAuth
):
    """æ‰¹é‡å¯ç”¨æˆ–ç¦ç”¨å¤šä¸ªMockè§„åˆ™"""
    updated = await MockData.filter(
        id__in=toggle_request.ids
    ).update(enabled=toggle_request.enabled)
    
    return formatter.success(
        data={"updated_count": updated},
        message=f"æˆåŠŸ{'å¯ç”¨' if toggle_request.enabled else 'ç¦ç”¨'} {updated} æ¡Mockæ•°æ®"
    )
```

**å»ºè®®2: æ·»åŠ åˆ†ç»„ç®¡ç†**ï¼ˆä¾¿äºåˆ†ç±»ï¼‰

```python
# åœ¨MockData Modelæ·»åŠ 
group = fields.CharField(max_length=50, null=True, index=True, description="åˆ†ç»„")

# ä½¿ç”¨ç¤ºä¾‹
group = "AIæ¨¡å—Demoæ•°æ®"
```

**å»ºè®®3: å‰ç«¯å¿«æ·å¼€å…³**

åœ¨ç³»ç»Ÿç®¡ç†é¡µé¢æ·»åŠ ï¼š
```vue
<n-card title="Demoæ¨¡å¼">
  <n-space vertical>
    <n-switch 
      v-model:value="aiDemoMode"
      @update:value="toggleAIDemoMode"
    >
      <template #checked>AI Demoæ¨¡å¼å·²å¯ç”¨</template>
      <template #unchecked>AI Demoæ¨¡å¼å·²ç¦ç”¨</template>
    </n-switch>
    <n-text depth="3">
      ä¸€é”®å¯ç”¨/ç¦ç”¨æ‰€æœ‰AIæ¨¡å—çš„Mockæ•°æ®
    </n-text>
  </n-space>
</n-card>

<script>
const toggleAIDemoMode = async (enabled) => {
  // æ‰¹é‡å¯ç”¨/ç¦ç”¨æ‰€æœ‰åç§°åŒ…å«"AI-"çš„Mockæ•°æ®
  const aiMockIds = await getMockDataIds({ name: 'AI-' })
  await batchToggleMockData({ ids: aiMockIds, enabled })
  message.success(`AI Demoæ¨¡å¼å·²${enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}`)
}
</script>
```

---

## ğŸ“‹ ä¿®æ­£åçš„å®æ–½æ–¹æ¡ˆ

### æ–¹æ¡ˆæ€»ç»“

| é¡¹ç›® | åŸæ–¹æ¡ˆ | ä¿®æ­£æ–¹æ¡ˆ | å˜åŒ– |
|------|--------|---------|------|
| **é¢„æµ‹ç»“æœå­˜å‚¨** | åˆ›å»ºæ–°è¡¨ | âœ… ä½¿ç”¨ t_ai_predictions | èŠ‚çœ2å¤© |
| **Mockæ•°æ®ç®¡ç†** | å¼€å‘å¼€å…³åŠŸèƒ½ | âœ… ä½¿ç”¨ç°æœ‰åŠŸèƒ½ | èŠ‚çœ1å¤© |
| **æ€»å¼€å‘æ—¶é—´** | 3-4å¤© | **1-2å¤©** âœ… | èŠ‚çœ50%+ |

---

### å®æ–½è®¡åˆ’ï¼ˆä¿®æ­£ç‰ˆï¼‰

#### Day 1: é›†æˆ t_ai_predictionsï¼ˆåŠå¤©ï¼‰

**ä¸Šåˆ: APIå¼€å‘**
- [ ] åˆ›å»ºPydantic Schema
  ```python
  # app/schemas/ai_prediction.py
  class PredictionResultData(BaseModel):
      predictions: List[PredictionPoint]
      metadata: PredictionMetadata
      actual_values: Optional[List[ActualValue]]
  
  class PredictionCreate(BaseModel):
      prediction_name: str
      target_variable: str
      prediction_horizon: int
      model_type: str
      # ...
  ```

- [ ] å¼€å‘æ‰¹é‡é¢„æµ‹API
  ```python
  # app/api/v2/ai/predictions.py
  @router.post("/batch")
  async def create_batch_predictions(...):
      """æ‰¹é‡åˆ›å»ºé¢„æµ‹ä»»åŠ¡å¹¶æ‰§è¡Œ"""
      # 1. åˆ›å»ºé¢„æµ‹è®°å½•
      # 2. è°ƒç”¨é¢„æµ‹æœåŠ¡
      # 3. ä¿å­˜ç»“æœåˆ°result_data
      # 4. è¿”å›èšåˆç»“æœ
  ```

- [ ] å¼€å‘å†å²æŸ¥è¯¢API
  ```python
  @router.get("/history")
  async def get_prediction_history(...):
      """æŸ¥è¯¢è®¾å¤‡çš„é¢„æµ‹å†å²"""
  ```

**ä¸‹åˆ: å‰ç«¯é›†æˆ**
- [ ] æ›´æ–°è¶‹åŠ¿é¢„æµ‹é¡µé¢
  - æ›¿æ¢mockæ•°æ®ä¸ºAPIè°ƒç”¨
  - æ˜¾ç¤ºå†å²é¢„æµ‹è®°å½•
  - æ·»åŠ é¢„æµ‹å¯¹æ¯”åŠŸèƒ½

---

#### Day 1ä¸‹åˆ-Day 2: Mockæ•°æ®å‡†å¤‡ï¼ˆåŠå¤©ï¼‰

**Task 1: æå–å¹¶å‡†å¤‡Mockæ•°æ®**
- [ ] ä»å‰ç«¯ä»£ç æå–ç°æœ‰mockæ•°æ®
- [ ] è½¬æ¢ä¸ºSQL INSERTè¯­å¥
- [ ] åˆ›å»ºè¿ç§»è„šæœ¬ï¼š`004_insert_ai_mock_data.sql`

**Task 2: å¯¼å…¥Mockæ•°æ®**
- [ ] æ‰§è¡ŒSQLè„šæœ¬
- [ ] éªŒè¯æ•°æ®æ­£ç¡®æ€§
- [ ] æµ‹è¯•å¯ç”¨/ç¦ç”¨åŠŸèƒ½

**Task 3: å‰ç«¯å¿«æ·å¼€å…³ï¼ˆå¯é€‰ï¼‰**
- [ ] æ·»åŠ "AI Demoæ¨¡å¼"å¼€å…³
- [ ] å®ç°æ‰¹é‡toggleåŠŸèƒ½
- [ ] æµ‹è¯•Demoæ¨¡å¼åˆ‡æ¢

---

#### Day 2: æµ‹è¯•å’Œæ–‡æ¡£ï¼ˆåŠå¤©ï¼‰

- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
  - é¢„æµ‹ä»»åŠ¡åˆ›å»º
  - ç»“æœæŸ¥è¯¢
  - Mockæ•°æ®åˆ‡æ¢
  
- [ ] æ€§èƒ½æµ‹è¯•
  - æ‰¹é‡é¢„æµ‹æ€§èƒ½
  - å†å²æŸ¥è¯¢æ€§èƒ½
  
- [ ] æ›´æ–°æ–‡æ¡£
  - APIæ–‡æ¡£
  - ä½¿ç”¨è¯´æ˜
  - Demoå±•ç¤ºæŒ‡å—

---

## ğŸ¯ æœ€ç»ˆå»ºè®®

### æ¨èæ–¹æ¡ˆï¼šç›´æ¥ä½¿ç”¨ç°æœ‰åŠŸèƒ½

**æ–¹æ¡ˆA: t_ai_predictions**
- âœ… ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åˆ›å»ºæ–°è¡¨
- âœ… result_data (JSON) å­˜å‚¨é¢„æµ‹ç»“æœ
- âœ… å¯é€‰æ·»åŠ device_codeå†—ä½™å­—æ®µï¼ˆæå‡æŸ¥è¯¢æ€§èƒ½ï¼‰

**æ–¹æ¡ˆB: Mockæ•°æ®ç®¡ç†**
- âœ… ä½¿ç”¨ç°æœ‰enabledåŠŸèƒ½
- âœ… å‡†å¤‡AI Mockæ•°æ®å¹¶å¯¼å…¥
- âœ… å¯é€‰å¼€å‘æ‰¹é‡toggleå’Œå‰ç«¯å¿«æ·å¼€å…³

---

### ä¼˜åŒ–å»ºè®®ï¼ˆä¼˜å…ˆçº§æ’åºï¼‰

**ğŸ”´ P0 - å¿…é¡»å®Œæˆ**:
1. âœ… ä½¿ç”¨ t_ai_predictions å­˜å‚¨é¢„æµ‹ç»“æœ
2. âœ… å¼€å‘é¢„æµ‹ç»“æœä¿å­˜/æŸ¥è¯¢API
3. âœ… å‰ç«¯é›†æˆçœŸå®API

**ğŸŸ¡ P1 - å»ºè®®å®Œæˆ**:
1. âœ… å‡†å¤‡å¹¶å¯¼å…¥AI Mockæ•°æ®
2. âœ… æ·»åŠ device_codeå­—æ®µï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
3. âœ… å¼€å‘æ‰¹é‡toggleæ¥å£

**ğŸŸ¢ P2 - å¯é€‰å®Œæˆ**:
1. â­ å‰ç«¯AI Demoæ¨¡å¼å¿«æ·å¼€å…³
2. â­ Mockæ•°æ®åˆ†ç»„ç®¡ç†
3. â­ é¢„æµ‹å‡†ç¡®æ€§è‡ªåŠ¨éªŒè¯

---

## ğŸ“Š æ—¶é—´å¯¹æ¯”

| é˜¶æ®µ | åŸè®¡åˆ’ | ä¿®æ­£å | èŠ‚çœ |
|------|--------|--------|------|
| é¢„æµ‹ç»“æœè¡¨ | 1-2å¤© | åŠå¤© | 1å¤©+ |
| Mockæ•°æ® | 1å¤© | åŠå¤© | åŠå¤© |
| **æ€»è®¡** | **2-3å¤©** | **1å¤©** | **1-2å¤©** âœ… |

---

## âœ… éœ€è¦æ‚¨ç¡®è®¤

### å…³äº t_ai_predictionsï¼š
1. **ç›´æ¥ä½¿ç”¨ t_ai_predictions**ï¼Œå¯ä»¥å—ï¼Ÿ
   - âœ… ä¼˜ç‚¹ï¼šç«‹å³å¯ç”¨ã€èŠ‚çœæ—¶é—´
   - âš ï¸ æ³¨æ„ï¼šresult_dataæ˜¯JSONæ ¼å¼

2. **æ˜¯å¦æ·»åŠ  device_code å†—ä½™å­—æ®µ**ï¼Ÿ
   - âœ… ä¼˜ç‚¹ï¼šæŸ¥è¯¢æ€§èƒ½æ›´å¥½
   - âš ï¸ éœ€è¦ï¼šæ‰§è¡ŒALTER TABLE

### å…³äºMockæ•°æ®ç®¡ç†ï¼š
1. **ä½¿ç”¨ç°æœ‰enabledåŠŸèƒ½**ï¼Œå¯ä»¥å—ï¼Ÿ
   - âœ… åŠŸèƒ½å®Œæ•´ï¼Œæ»¡è¶³éœ€æ±‚

2. **æ˜¯å¦éœ€è¦æ‰¹é‡toggleå’Œå‰ç«¯å¿«æ·å¼€å…³**ï¼Ÿ
   - ğŸŸ¡ P1å»ºè®®ï¼šæå‡Demoå±•ç¤ºæ•ˆç‡
   - å¯é€‰ï¼šçœ‹æ—¶é—´å®‰æ’

---

## ğŸš€ ç«‹å³å¯ä»¥å¼€å§‹

å¦‚æœæ‚¨ç¡®è®¤ä½¿ç”¨ç°æœ‰åŠŸèƒ½ï¼Œæˆ‘å¯ä»¥ç«‹å³å¼€å§‹ï¼š

**Day 1ä¸Šåˆ** (2-3å°æ—¶):
1. åˆ›å»ºPydantic Schema
2. å¼€å‘é¢„æµ‹APIï¼ˆä¿å­˜/æŸ¥è¯¢ï¼‰
3. æµ‹è¯•APIåŠŸèƒ½

**Day 1ä¸‹åˆ** (2-3å°æ—¶):
1. å‰ç«¯é›†æˆAPI
2. æ›¿æ¢mockæ•°æ®
3. æµ‹è¯•é¡µé¢åŠŸèƒ½

**Day 2ä¸Šåˆ** (2-3å°æ—¶):
1. å‡†å¤‡AI Mockæ•°æ®
2. å¯¼å…¥æ•°æ®åº“
3. æµ‹è¯•Demoæ¨¡å¼

**Day 2ä¸‹åˆ** (2-3å°æ—¶):
1. ç«¯åˆ°ç«¯æµ‹è¯•
2. æ€§èƒ½ä¼˜åŒ–
3. æ–‡æ¡£æ›´æ–°

**æ€»è®¡**: 1-2å¤©å®Œæˆæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ âœ…

---

**æ‚¨çš„å†³ç­–**: 
1. ç¡®è®¤ä½¿ç”¨ t_ai_predictionsï¼Ÿ
2. æ˜¯å¦éœ€è¦æ·»åŠ device_codeå­—æ®µï¼Ÿ
3. æ˜¯å¦éœ€è¦æ‰¹é‡toggleåŠŸèƒ½ï¼Ÿ
4. å¯ä»¥ç«‹å³å¼€å§‹å®æ–½å—ï¼Ÿ

---

**æ›´æ–°æ—¶é—´**: 2025-11-04  
**çŠ¶æ€**: âœ… åŸºäºç”¨æˆ·åé¦ˆçš„ä¿®æ­£æ–¹æ¡ˆï¼Œç­‰å¾…ç¡®è®¤

